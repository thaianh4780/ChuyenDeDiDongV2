{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport { StyledFormHome, StyledDrinkTouchable, StyledDrinkTouchableImage, SDTText, SDTPrice, StyledDrinkTouchableAdd, SDTBtnText, StyledDrinkTouchableDelete, StyledDrinkTouchableEdit } from \"../components/styles\";\nimport { useIsFocused } from '@react-navigation/native';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TabBtn from \"./TabBtn\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar UserManagement = function UserManagement(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var url = \"http://192.168.117.119:3000/api/user/all\";\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      listUser = _useState2[0],\n      setListUser = _useState2[1];\n\n  var isFocused = useIsFocused();\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      check = _useState4[0],\n      setCheck = _useState4[1];\n\n  useEffect(function () {\n    getListUser();\n  }, [check, isFocused]);\n\n  var getListUser = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      yield fetch(url).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        var data = res;\n        setListUser(data);\n      }).catch(function (err) {\n        return console.log(\"ERR\", err);\n      });\n    });\n\n    return function getListUser() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var createTwoButtonAlert = function createTwoButtonAlert(id) {\n    return Alert.alert(\"Thông báo\", \"bạn có chắc muốn xóa không\", [{\n      text: \"Cancel\",\n      onPress: function onPress() {\n        return console.log(\"Cancel Pressed\");\n      },\n      style: \"cancel\"\n    }, {\n      text: \"OK\",\n      onPress: function onPress() {\n        return deleteUser(id);\n      }\n    }]);\n  };\n\n  var deleteUser = function deleteUser(id) {\n    var url = 'http://192.168.117.119:3000/api/user/delete/' + id;\n    fetch(url, {\n      method: 'DELETE'\n    }).then(function (res) {\n      return res;\n    }).then(function (data) {\n      console.log(data);\n\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setCheck(!check);\n        console.log(check);\n      }\n    });\n  };\n\n  return _jsx(View, {\n    style: styles.container,\n    children: _jsx(SafeAreaView, {\n      children: _jsx(ScrollView, {\n        children: _jsx(StyledFormHome, {\n          children: listUser.map(function (item, index) {\n            return _jsxs(StyledDrinkTouchable, {\n              style: styles.TouchableImage,\n              children: [_jsx(StyledDrinkTouchableImage, {\n                resizeMode: \"cover\",\n                source: require(\"../assets/image/u3.png\")\n              }), _jsxs(SDTText, {\n                children: [\" \", item.user_name]\n              }), _jsx(SDTPrice, {\n                children: item.role.role_name\n              }), _jsx(StyledDrinkTouchableAdd, {\n                onPress: function onPress() {\n                  return navigation.navigate(\"UserAdding\");\n                },\n                children: _jsx(SDTBtnText, {\n                  children: \"Add\"\n                })\n              }), _jsx(StyledDrinkTouchableDelete, {\n                onPress: function onPress() {\n                  createTwoButtonAlert(item._id);\n                },\n                children: _jsx(SDTBtnText, {\n                  children: \"Delete\"\n                })\n              }), _jsx(StyledDrinkTouchableEdit, {\n                onPress: function onPress() {\n                  return navigation.navigate(\"UserUpdating\", {\n                    id: item._id\n                  });\n                },\n                children: _jsx(SDTBtnText, {\n                  children: \"Edit\"\n                })\n              })]\n            });\n          })\n        })\n      })\n    })\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    marginTop: 20\n  },\n  twocl: {\n    flex: 1,\n    flexWrap: \"wrap\",\n    alignItems: \"flex-start\"\n  },\n  TouchableImage: {\n    padding: 20,\n    shadowColor: \"#000000\",\n    shadowOpacity: 0.25,\n    shadowRadius: 2,\n    shadowOffset: {\n      height: 1,\n      width: 3\n    }\n  }\n});\nexport default UserManagement;","map":{"version":3,"names":["React","useState","useEffect","StyledFormHome","StyledDrinkTouchable","StyledDrinkTouchableImage","SDTText","SDTPrice","StyledDrinkTouchableAdd","SDTBtnText","StyledDrinkTouchableDelete","StyledDrinkTouchableEdit","useIsFocused","TabBtn","UserManagement","route","navigation","url","listUser","setListUser","isFocused","check","setCheck","getListUser","fetch","then","res","json","data","catch","err","console","log","createTwoButtonAlert","id","Alert","alert","text","onPress","style","deleteUser","method","error","styles","container","map","item","index","TouchableImage","require","user_name","role","role_name","navigate","_id","StyleSheet","create","flex","marginTop","twocl","flexWrap","alignItems","padding","shadowColor","shadowOpacity","shadowRadius","shadowOffset","height","width"],"sources":["C:/Users/ASUS/Desktop/ChuyenDeDiDongV2/screens/UserManagement.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  StyledFormHome,\r\n  StyledDrinkTouchable,\r\n  StyledDrinkTouchableImage,\r\n  SDTText,\r\n  SDTPrice,\r\n  StyledDrinkTouchableAdd,\r\n  SDTBtnText,\r\n  StyledDrinkTouchableDelete,\r\n  StyledDrinkTouchableEdit,\r\n} from \"../components/styles\";\r\nimport { useIsFocused } from '@react-navigation/native';\r\nimport {\r\n  Alert,\r\n  ScrollView,\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  SafeAreaView,\r\n} from \"react-native\";\r\nimport TabBtn from \"./TabBtn\";\r\n\r\n\r\n\r\n//Colors\r\nconst UserManagement = ({ route, navigation }) => {\r\n  const url = \"http://192.168.117.119:3000/api/user/all\";\r\n  //const url = \"http://192.168.1.144:3000/api/drink/list\";\r\n  const [listUser, setListUser] = useState([]);\r\n  const isFocused = useIsFocused();\r\n  const [check, setCheck] = useState(false);\r\n  useEffect(() => { getListUser(); }, [check, isFocused]);\r\n  const getListUser = async () => {\r\n    await fetch(url)\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        // console.log(res);\r\n        var data = res;\r\n        setListUser(data);\r\n      })\r\n      .catch((err) => console.log(\"ERR\", err));\r\n  };\r\n\r\n  //delete user by id\r\n  const createTwoButtonAlert = (id) =>\r\n    Alert.alert(\r\n      \"Thông báo\",\r\n      \"bạn có chắc muốn xóa không\",\r\n      [\r\n        {\r\n          text: \"Cancel\",\r\n          onPress: () => console.log(\"Cancel Pressed\"),\r\n          style: \"cancel\"\r\n        },\r\n        { text: \"OK\", onPress: () => deleteUser(id) }\r\n      ]\r\n    );\r\n  const deleteUser = (id) => {\r\n    const url = 'http://192.168.117.119:3000/api/user/delete/' + id;\r\n    fetch(url, {\r\n      method: 'DELETE',\r\n      // headers: { 'content-type': 'application/json' },\r\n      // body: JSON.stringify(id)\r\n    }).then(res => res).then(data => {\r\n      console.log(data);\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        // Alert.alert(\"Deleted is success!\");\r\n        setCheck(!check);\r\n        console.log(check);\r\n      }\r\n    })\r\n    // useEffect(() => { getListUser(); }, []);\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <SafeAreaView>\r\n        <ScrollView>\r\n          <StyledFormHome>\r\n            {listUser.map((item, index) => {\r\n              return (\r\n                <StyledDrinkTouchable style={styles.TouchableImage}>\r\n                  <StyledDrinkTouchableImage\r\n                    resizeMode=\"cover\"\r\n                    source={require(\"../assets/image/u3.png\")}\r\n                  ></StyledDrinkTouchableImage>\r\n                  <SDTText> {item.user_name}</SDTText>\r\n                  <SDTPrice>{item.role.role_name}</SDTPrice>\r\n                  <StyledDrinkTouchableAdd\r\n                    onPress={() => navigation.navigate(\"UserAdding\")}\r\n                  >\r\n                    <SDTBtnText>Add</SDTBtnText>\r\n                  </StyledDrinkTouchableAdd>\r\n                  <StyledDrinkTouchableDelete\r\n                    onPress={() => {\r\n                      createTwoButtonAlert(item._id);\r\n                    }}\r\n                  >\r\n                    <SDTBtnText>Delete</SDTBtnText>\r\n                  </StyledDrinkTouchableDelete>\r\n                  <StyledDrinkTouchableEdit\r\n                    onPress={() => navigation.navigate(\"UserUpdating\", { id: item._id })}\r\n                  >\r\n                    <SDTBtnText>Edit</SDTBtnText>\r\n                  </StyledDrinkTouchableEdit>\r\n                </StyledDrinkTouchable>\r\n              );\r\n            })}\r\n          </StyledFormHome>\r\n        </ScrollView>\r\n      </SafeAreaView>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    marginTop: 20,\r\n  },\r\n  twocl: {\r\n    flex: 1,\r\n    flexWrap: \"wrap\",\r\n    alignItems: \"flex-start\",\r\n  },\r\n  TouchableImage: {\r\n    padding: 20,\r\n    shadowColor: \"#000000\",\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 2,\r\n    shadowOffset: {\r\n      height: 1,\r\n      width: 3,\r\n    },\r\n  },\r\n});\r\n\r\nexport default UserManagement;\r\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SACEC,cADF,EAEEC,oBAFF,EAGEC,yBAHF,EAIEC,OAJF,EAKEC,QALF,EAMEC,uBANF,EAOEC,UAPF,EAQEC,0BARF,EASEC,wBATF;AAWA,SAASC,YAAT,QAA6B,0BAA7B;;;;;;;AASA,OAAOC,MAAP;;;;AAKA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,OAA2B;EAAA,IAAxBC,KAAwB,QAAxBA,KAAwB;EAAA,IAAjBC,UAAiB,QAAjBA,UAAiB;EAChD,IAAMC,GAAG,GAAG,0CAAZ;;EAEA,gBAAgChB,QAAQ,CAAC,EAAD,CAAxC;EAAA;EAAA,IAAOiB,QAAP;EAAA,IAAiBC,WAAjB;;EACA,IAAMC,SAAS,GAAGR,YAAY,EAA9B;;EACA,iBAA0BX,QAAQ,CAAC,KAAD,CAAlC;EAAA;EAAA,IAAOoB,KAAP;EAAA,IAAcC,QAAd;;EACApB,SAAS,CAAC,YAAM;IAAEqB,WAAW;EAAK,CAAzB,EAA2B,CAACF,KAAD,EAAQD,SAAR,CAA3B,CAAT;;EACA,IAAMG,WAAW;IAAA,8BAAG,aAAY;MAC9B,MAAMC,KAAK,CAACP,GAAD,CAAL,CACHQ,IADG,CACE,UAACC,GAAD;QAAA,OAASA,GAAG,CAACC,IAAJ,EAAT;MAAA,CADF,EAEHF,IAFG,CAEE,UAACC,GAAD,EAAS;QAEb,IAAIE,IAAI,GAAGF,GAAX;QACAP,WAAW,CAACS,IAAD,CAAX;MACD,CANG,EAOHC,KAPG,CAOG,UAACC,GAAD;QAAA,OAASC,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBF,GAAnB,CAAT;MAAA,CAPH,CAAN;IAQD,CATgB;;IAAA,gBAAXP,WAAW;MAAA;IAAA;EAAA,GAAjB;;EAYA,IAAMU,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,EAAD;IAAA,OAC3BC,KAAK,CAACC,KAAN,CACE,WADF,EAEE,4BAFF,EAGE,CACE;MACEC,IAAI,EAAE,QADR;MAEEC,OAAO,EAAE;QAAA,OAAMP,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAAN;MAAA,CAFX;MAGEO,KAAK,EAAE;IAHT,CADF,EAME;MAAEF,IAAI,EAAE,IAAR;MAAcC,OAAO,EAAE;QAAA,OAAME,UAAU,CAACN,EAAD,CAAhB;MAAA;IAAvB,CANF,CAHF,CAD2B;EAAA,CAA7B;;EAaA,IAAMM,UAAU,GAAG,SAAbA,UAAa,CAACN,EAAD,EAAQ;IACzB,IAAMjB,GAAG,GAAG,iDAAiDiB,EAA7D;IACAV,KAAK,CAACP,GAAD,EAAM;MACTwB,MAAM,EAAE;IADC,CAAN,CAAL,CAIGhB,IAJH,CAIQ,UAAAC,GAAG;MAAA,OAAIA,GAAJ;IAAA,CAJX,EAIoBD,IAJpB,CAIyB,UAAAG,IAAI,EAAI;MAC/BG,OAAO,CAACC,GAAR,CAAYJ,IAAZ;;MACA,IAAIA,IAAI,CAACc,KAAT,EAAgB;QACdX,OAAO,CAACC,GAAR,CAAYJ,IAAI,CAACc,KAAjB;MACD,CAFD,MAEO;QAELpB,QAAQ,CAAC,CAACD,KAAF,CAAR;QACAU,OAAO,CAACC,GAAR,CAAYX,KAAZ;MACD;IACF,CAbD;EAeD,CAjBD;;EAmBA,OACE,KAAC,IAAD;IAAM,KAAK,EAAEsB,MAAM,CAACC,SAApB;IAAA,UACE,KAAC,YAAD;MAAA,UACE,KAAC,UAAD;QAAA,UACE,KAAC,cAAD;UAAA,UACG1B,QAAQ,CAAC2B,GAAT,CAAa,UAACC,IAAD,EAAOC,KAAP,EAAiB;YAC7B,OACE,MAAC,oBAAD;cAAsB,KAAK,EAAEJ,MAAM,CAACK,cAApC;cAAA,WACE,KAAC,yBAAD;gBACE,UAAU,EAAC,OADb;gBAEE,MAAM,EAAEC,OAAO;cAFjB,EADF,EAKE,MAAC,OAAD;gBAAA,gBAAWH,IAAI,CAACI,SAAhB;cAAA,EALF,EAME,KAAC,QAAD;gBAAA,UAAWJ,IAAI,CAACK,IAAL,CAAUC;cAArB,EANF,EAOE,KAAC,uBAAD;gBACE,OAAO,EAAE;kBAAA,OAAMpC,UAAU,CAACqC,QAAX,CAAoB,YAApB,CAAN;gBAAA,CADX;gBAAA,UAGE,KAAC,UAAD;kBAAA;gBAAA;cAHF,EAPF,EAYE,KAAC,0BAAD;gBACE,OAAO,EAAE,mBAAM;kBACbpB,oBAAoB,CAACa,IAAI,CAACQ,GAAN,CAApB;gBACD,CAHH;gBAAA,UAKE,KAAC,UAAD;kBAAA;gBAAA;cALF,EAZF,EAmBE,KAAC,wBAAD;gBACE,OAAO,EAAE;kBAAA,OAAMtC,UAAU,CAACqC,QAAX,CAAoB,cAApB,EAAoC;oBAAEnB,EAAE,EAAEY,IAAI,CAACQ;kBAAX,CAApC,CAAN;gBAAA,CADX;gBAAA,UAGE,KAAC,UAAD;kBAAA;gBAAA;cAHF,EAnBF;YAAA,EADF;UA2BD,CA5BA;QADH;MADF;IADF;EADF,EADF;AAuCD,CA1FD;;AA4FA,IAAMX,MAAM,GAAGY,UAAU,CAACC,MAAX,CAAkB;EAC/BZ,SAAS,EAAE;IACTa,IAAI,EAAE,CADG;IAETC,SAAS,EAAE;EAFF,CADoB;EAK/BC,KAAK,EAAE;IACLF,IAAI,EAAE,CADD;IAELG,QAAQ,EAAE,MAFL;IAGLC,UAAU,EAAE;EAHP,CALwB;EAU/Bb,cAAc,EAAE;IACdc,OAAO,EAAE,EADK;IAEdC,WAAW,EAAE,SAFC;IAGdC,aAAa,EAAE,IAHD;IAIdC,YAAY,EAAE,CAJA;IAKdC,YAAY,EAAE;MACZC,MAAM,EAAE,CADI;MAEZC,KAAK,EAAE;IAFK;EALA;AAVe,CAAlB,CAAf;AAsBA,eAAetD,cAAf"},"metadata":{},"sourceType":"module"}