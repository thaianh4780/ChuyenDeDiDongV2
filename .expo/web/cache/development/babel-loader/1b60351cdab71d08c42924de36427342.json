{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { useEffect, useState, useMemo } from 'react';\nimport I18nManager from \"react-native-web/dist/exports/I18nManager\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { calculateDropdownHeight } from \"../helpers/calculateDropdownHeight\";\nimport { useKeyboardRemainingScreenHeight } from \"./useKeyboardRemainingScreenHeight\";\n\nvar _Dimensions$get = Dimensions.get('window'),\n    height = _Dimensions$get.height;\n\nexport var useLayoutDropdown = function useLayoutDropdown(data, dropdownStyle, rowStyle, search) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isVisible = _useState2[0],\n      setIsVisible = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      buttonLayout = _useState4[0],\n      setButtonLayout = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      dropdownPX = _useState6[0],\n      setDropdownPX = _useState6[1];\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      dropdownPY = _useState8[0],\n      setDropdownPY = _useState8[1];\n\n  var _useState9 = useState(function () {\n    return calculateDropdownHeight(dropdownStyle, rowStyle, (data == null ? void 0 : data.length) || 0, search);\n  }),\n      _useState10 = _slicedToArray(_useState9, 2),\n      dropdownHEIGHT = _useState10[0],\n      setDropdownHEIGHT = _useState10[1];\n\n  var _useState11 = useState(0),\n      _useState12 = _slicedToArray(_useState11, 2),\n      dropdownWIDTH = _useState12[0],\n      setDropdownWIDTH = _useState12[1];\n\n  var remainigHeightAvoidKeyboard = useKeyboardRemainingScreenHeight();\n  var safeDropdownViewUnderKeyboard = rowStyle && rowStyle.height ? rowStyle.height * 3 : 50 * 3;\n  useEffect(function () {\n    setDropdownHEIGHT(calculateDropdownHeight(dropdownStyle, rowStyle, (data == null ? void 0 : data.length) || 0, search));\n  }, [dropdownStyle, rowStyle, data]);\n\n  var onDropdownButtonLayout = function onDropdownButtonLayout(w, h, px, py) {\n    setButtonLayout({\n      w: w,\n      h: h,\n      px: px,\n      py: py\n    });\n\n    if (height - 18 < py + h + dropdownHEIGHT) {\n      setDropdownPX(px);\n      setDropdownPY(py - 2 - dropdownHEIGHT);\n    } else {\n      setDropdownPX(px);\n      setDropdownPY(py + h + 2);\n    }\n\n    setDropdownWIDTH((dropdownStyle == null ? void 0 : dropdownStyle.width) || w);\n  };\n\n  var getItemLayout = function getItemLayout(flatlistData, index) {\n    return {\n      index: index,\n      length: (flatlistData == null ? void 0 : flatlistData.length) || 0,\n      offset: rowStyle && rowStyle.height ? rowStyle.height * index : 50 * index\n    };\n  };\n\n  var dropdownWindowStyle = useMemo(function () {\n    var top = remainigHeightAvoidKeyboard < dropdownPY + safeDropdownViewUnderKeyboard ? remainigHeightAvoidKeyboard - safeDropdownViewUnderKeyboard : dropdownPY;\n    return _objectSpread(_objectSpread(_objectSpread({}, dropdownStyle), {\n      position: 'absolute',\n      top: top,\n      height: dropdownHEIGHT,\n      width: dropdownWIDTH,\n      borderTopWidth: 0,\n      overflow: 'hidden'\n    }), I18nManager.isRTL ? {\n      right: (dropdownStyle == null ? void 0 : dropdownStyle.right) || dropdownPX\n    } : {\n      left: (dropdownStyle == null ? void 0 : dropdownStyle.left) || dropdownPX\n    });\n  }, [remainigHeightAvoidKeyboard, dropdownPX, dropdownPY, dropdownHEIGHT, dropdownWIDTH]);\n  return {\n    isVisible: isVisible,\n    setIsVisible: setIsVisible,\n    buttonLayout: buttonLayout,\n    onDropdownButtonLayout: onDropdownButtonLayout,\n    getItemLayout: getItemLayout,\n    dropdownWindowStyle: dropdownWindowStyle\n  };\n};","map":{"version":3,"names":["useEffect","useState","useMemo","calculateDropdownHeight","useKeyboardRemainingScreenHeight","Dimensions","get","height","useLayoutDropdown","data","dropdownStyle","rowStyle","search","isVisible","setIsVisible","buttonLayout","setButtonLayout","dropdownPX","setDropdownPX","dropdownPY","setDropdownPY","length","dropdownHEIGHT","setDropdownHEIGHT","dropdownWIDTH","setDropdownWIDTH","remainigHeightAvoidKeyboard","safeDropdownViewUnderKeyboard","onDropdownButtonLayout","w","h","px","py","width","getItemLayout","flatlistData","index","offset","dropdownWindowStyle","top","position","borderTopWidth","overflow","I18nManager","isRTL","right","left"],"sources":["C:/Users/ASUS/Desktop/ChuyenDeDiDongV2/node_modules/react-native-select-dropdown/src/hooks/useLayoutDropdown.js"],"sourcesContent":["import {useEffect, useState, useMemo} from 'react';\r\nimport {I18nManager, Dimensions} from 'react-native';\r\nimport {calculateDropdownHeight} from '../helpers/calculateDropdownHeight';\r\nimport {useKeyboardRemainingScreenHeight} from './useKeyboardRemainingScreenHeight';\r\nconst {height} = Dimensions.get('window');\r\n\r\nexport const useLayoutDropdown = (data, dropdownStyle, rowStyle, search) => {\r\n  const [isVisible, setIsVisible] = useState(false); // dropdown visible ?\r\n  const [buttonLayout, setButtonLayout] = useState(null);\r\n  const [dropdownPX, setDropdownPX] = useState(0); // position x\r\n  const [dropdownPY, setDropdownPY] = useState(0); // position y\r\n  const [dropdownHEIGHT, setDropdownHEIGHT] = useState(() => {\r\n    return calculateDropdownHeight(dropdownStyle, rowStyle, data?.length || 0, search);\r\n  }); // dropdown height\r\n  const [dropdownWIDTH, setDropdownWIDTH] = useState(0); // dropdown width\r\n  const remainigHeightAvoidKeyboard = useKeyboardRemainingScreenHeight();\r\n  const safeDropdownViewUnderKeyboard = rowStyle && rowStyle.height ? rowStyle.height * 3 : 50 * 3;\r\n\r\n  useEffect(() => {\r\n    setDropdownHEIGHT(calculateDropdownHeight(dropdownStyle, rowStyle, data?.length || 0, search));\r\n  }, [dropdownStyle, rowStyle, data]);\r\n\r\n  const onDropdownButtonLayout = (w, h, px, py) => {\r\n    setButtonLayout({w, h, px, py});\r\n    if (height - 18 < py + h + dropdownHEIGHT) {\r\n      setDropdownPX(px);\r\n      setDropdownPY(py - 2 - dropdownHEIGHT);\r\n    } else {\r\n      setDropdownPX(px);\r\n      setDropdownPY(py + h + 2);\r\n    }\r\n    setDropdownWIDTH(dropdownStyle?.width || w);\r\n  };\r\n\r\n  const getItemLayout = (flatlistData, index) => ({\r\n    index,\r\n    length: flatlistData?.length || 0,\r\n    offset: rowStyle && rowStyle.height ? rowStyle.height * index : 50 * index,\r\n  });\r\n\r\n  const dropdownWindowStyle = useMemo(() => {\r\n    const top =\r\n      remainigHeightAvoidKeyboard < dropdownPY + safeDropdownViewUnderKeyboard\r\n        ? remainigHeightAvoidKeyboard - safeDropdownViewUnderKeyboard\r\n        : dropdownPY;\r\n    return {\r\n      ...dropdownStyle,\r\n      ...{\r\n        position: 'absolute',\r\n        top: top,\r\n        height: dropdownHEIGHT,\r\n        width: dropdownWIDTH,\r\n        borderTopWidth: 0,\r\n        overflow: 'hidden',\r\n      },\r\n      ...(I18nManager.isRTL ? {right: dropdownStyle?.right || dropdownPX} : {left: dropdownStyle?.left || dropdownPX}),\r\n    };\r\n  }, [remainigHeightAvoidKeyboard, dropdownPX, dropdownPY, dropdownHEIGHT, dropdownWIDTH]);\r\n\r\n  return {\r\n    isVisible,\r\n    setIsVisible,\r\n    buttonLayout,\r\n    onDropdownButtonLayout,\r\n    getItemLayout,\r\n    dropdownWindowStyle,\r\n  };\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}